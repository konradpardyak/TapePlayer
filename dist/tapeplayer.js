!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";var n=i(1),o=i(2);document.addEventListener("DOMContentLoaded",function(){var t=new o.Playlist,e=new n.Player;t.loadFiles(),t.setIsActive(0),e.preventControls(),e.playButton.on("click",function(){e.playAndPause()}),e.stopButton.on("click",function(){e.stop()}),e.video.addEventListener("timeupdate",function(t){e.showProgress()},!1),e.fullscreenButton.on("click",function(){e.fullscreen()}),e.video.addEventListener("ended",function(){t.currentVideo<t.list.length-1?(e.play(t.nextVideo),t.currentVideo++,t.setIsActive(t.currentVideo)):(e.stop(),t.currentVideo=0),t.setNextVideo()}),e.volumeButton.on("input",function(){e.changeVolume()}),t.links.on("click",function(i){i.preventDefault(),e.play(this.getAttribute("href")),t.currentVideo=this.dataset.number,t.setNextVideo(),t.setIsActive(this.dataset.number)})})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.Player=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.video=document.getElementById("player-video"),this.playButton=$("#play-button"),this.stopButton=$("#stop-button"),this.progressBar=$(".progress-bar"),this.volumeButton=$("#player-volume"),this.fullscreenButton=$("#fullscreen-button"),this.playerInfo=$("#player-info"),this.infoTimeout=!1}return n(t,[{key:"preventControls",value:function(){this.video.controls=!1}},{key:"playAndPause",value:function(){this.video.paused||this.video.ended?(this.playButton.attr("title","pause"),this.playButton.html('<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>'),this.showInfo("Playing"),this.video.play()):(this.playButton.attr("title","play"),this.playButton.html('<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>'),this.showInfo("Paused"),this.video.pause())}},{key:"stop",value:function(){this.playButton.attr("title","play"),this.playButton.html('<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>'),this.showInfo("Stopped"),this.video.pause(),this.video.removeAttribute("autoplay"),this.video.removeAttribute("src"),this.video.load(),playlist.setIsActive(0)}},{key:"showProgress",value:function(){var t=0;this.video.currentTime>0&&(t=100/this.video.duration*this.video.currentTime),this.progressBar.css("width",t+"%")}},{key:"changeVolume",value:function(){this.video.volume=this.volumeButton.val(),this.showInfo("Volume: "+(100*this.video.volume).toFixed(0)+"%")}},{key:"fullscreen",value:function(){this.video.requestFullscreen?this.video.requestFullscreen():this.video.mozRequestFullScreen?this.video.mozRequestFullScreen():this.video.webkitRequestFullscreen&&this.video.webkitRequestFullscreen()}},{key:"showInfo",value:function(t){var e=this;0!=this.infoTimeout&&(clearTimeout(this.infoTimeout),this.infoTimeout=!1),this.playerInfo.text(t),this.playerInfo.fadeIn(),this.infoTimeout=setTimeout(function(){e.playerInfo.fadeOut()},1500)}},{key:"play",value:function(t){this.video.setAttribute("autoplay",""),this.video.src=t,this.playAndPause()}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.Playlist=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.list=[{href:"http://clips.vorwaerts-gmbh.de/VfE_html5.mp4",img:"http://camendesign.com/code/video_for_everybody/poster.jpg",alt:"big-buck-bunny"},{href:"http://thenewcode.com/assets/videos/atlantic-light.mp4",img:"http://thenewcode.com/assets/images/trotternish-ridge-isle-of-skye.jpg",alt:"atlantic-light"},{href:"http://thenewcode.com/assets/videos/mountain.mp4",img:"http://thenewcode.com/assets/images/vid-mountain.jpg",alt:"mountain"},{href:"http://thenewcode.com/assets/videos/ocean-diver.mp4",img:"http://thenewcode.com/assets/images/ocean-diver.jpg",alt:"ocean-diver"}],this.links=null,this.currentVideo=0,this.nextVideo=this.list[1].href}return n(t,[{key:"loadFiles",value:function(){var t=$("#player-video"),e=$("<source>").attr("id","source").attr("src",this.list[0].href).attr("type","video/mp4");t.append(e);var i=$("#playlist");this.list.forEach(function(t,e){var n=$("<li>"),o=$("<a>").attr("href",t.href).attr("data-number",e),s=$("<img>").attr("src",t.img).attr("alt",t.alt).attr("class","thumbnail");o.append(s),n.append(o),i.append(n)}),this.links=$("#playlist a")}},{key:"setNextVideo",value:function(){this.currentVideo<this.list.length-1?this.nextVideo=this.list[parseInt(this.currentVideo)+1].href:this.nextVideo=this.list[1].href}},{key:"setIsActive",value:function(t){for(var e=document.getElementsByTagName("img"),i=0;i<e.length;i++)e[i].classList.remove("isActive");e[t].classList.add("isActive")}}]),t}()}]);